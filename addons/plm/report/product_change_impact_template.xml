<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="product_change_impact_report_template">
        <t t-set="data_report_landscape" t-value="True"/>
        <t t-call="web.basic_layout">
            <div class="container document_report_page">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="mt16">
                            <div class="mb-lg-2 mt-lg-4" t-if="hierarchy_parent['children']">
                                <span>
                                    <strong>Affected Parent Products</strong>
                                </span>
                            </div>
                            <div t-if="hierarchy_parent['children']">
                                <table class="table_style">
                                    <tr>
                                        <th class="text-center">Level</th>
                                        <th class="text-left">Name</th>
                                        <th class="text-center">Code</th>
                                        <th class="text-center">Revision</th>
                                        <th class="text-center">State</th>
                                        <th class="text-center">Image</th>
                                    </tr>
                                    <tr>
                                        <td class="text-center">
                                            <t t-out="hierarchy_parent.get('level')"/>
                                        </td>
                                        <td class="text-left">
                                            <a t-attf-href="/web#id={{hierarchy_parent.get('product').id}}&amp;model={{hierarchy_parent.get('product')._name}}&amp;view_type=form"
                                               t-out="hierarchy_parent.get('product').name" target="_blank"/>
                                        </td>
                                        <td class="text-center">
                                            <t t-out="hierarchy_parent.get('product').engineering_code"/>
                                        </td>
                                        <td class="text-center">
                                            <t t-out="hierarchy_parent.get('product').engineering_revision"/>
                                        </td>
                                        <td class="text-center">
                                            <strong>
                                                <t t-if="hierarchy_parent.get('product').engineering_state == 'draft'">
                                                    <span style="color: grey;padding-left: 5px;">
                                                        <t t-out="hierarchy_parent.get('product').engineering_state"/>
                                                    </span>
                                                </t>
                                                <t t-elif="hierarchy_parent.get('product').engineering_state == 'confirmed'">
                                                    <span style="color: blue;padding-left: 5px;">
                                                        <t t-out="hierarchy_parent.get('product').engineering_state"/>
                                                    </span>
                                                </t>
                                                <t t-elif="hierarchy_parent.get('product').engineering_state == 'released'">
                                                    <span style="color: green;padding-left: 5px;">
                                                        <t t-out="hierarchy_parent.get('product').engineering_state"/>
                                                    </span>
                                                </t>
                                                <t t-elif="hierarchy_parent.get('product').engineering_state == 'undermodify'">
                                                    <span style="color: orange;padding-left: 5px;">
                                                        <t t-out="hierarchy_parent.get('product').engineering_state"/>
                                                    </span>
                                                </t>
                                                <t t-elif="hierarchy_parent.get('product').engineering_state == 'obsoleted'">
                                                    <span style="color: red;padding-left: 5px;">
                                                        <t t-out="hierarchy_parent.get('product').engineering_state"/>
                                                    </span>
                                                </t>
                                                <t t-else="">
                                                    <span style="color: black;padding-left: 5px;">
                                                        <t t-out="hierarchy_parent.get('product').engineering_state"/>
                                                    </span>
                                                </t>
                                            </strong>
                                        </td>
                                        <td class="text-center" style="padding-top: 5px; padding-bottom: 5px;">
                                            <img
                                                t-att-src="'/plm/product_product_image_1920/%s' % hierarchy_parent.get('product').id"
                                                t-att-alt="hierarchy_parent.get('product').display_name"
                                                class="image_document_report"
                                                style="margin: auto; border: none;"/>

                                        </td>
                                    </tr>
                                    <t t-foreach="hierarchy_parent['children']" t-as="parent_lvl_1">
                                        <tr>
                                            <td class="text-center">
                                                <t t-out="parent_lvl_1.get('level')"/>
                                            </td>
                                            <td class="text-left">
                                                <span style='font-size:20px; color:rgb(1 88 92); padding-left: 20px;'>
                                                    &#8627;
                                                </span>
                                                <a t-attf-href="/web#id={{parent_lvl_1.get('product').id}}&amp;model={{parent_lvl_1.get('product')._name}}&amp;view_type=form"
                                                   t-out="parent_lvl_1.get('product').name" target="_blank"/>
                                            </td>
                                            <td class="text-center">
                                                <t t-out="parent_lvl_1.get('product').engineering_code"/>
                                            </td>
                                            <td class="text-center">
                                                <t t-out="parent_lvl_1.get('product').engineering_revision"/>
                                            </td>
                                            <td class="text-center">
                                                <strong>
                                                    <t t-if="parent_lvl_1.get('product').engineering_state == 'draft'">
                                                        <span style="color: grey;padding-left: 5px;">
                                                            <t t-out="parent_lvl_1.get('product').engineering_state"/>
                                                        </span>
                                                    </t>
                                                    <t t-elif="parent_lvl_1.get('product').engineering_state == 'confirmed'">
                                                        <span style="color: blue;padding-left: 5px;">
                                                            <t t-out="parent_lvl_1.get('product').engineering_state"/>
                                                        </span>
                                                    </t>
                                                    <t t-elif="parent_lvl_1.get('product').engineering_state == 'released'">
                                                        <span style="color: green;padding-left: 5px;">
                                                            <t t-out="parent_lvl_1.get('product').engineering_state"/>
                                                        </span>
                                                    </t>
                                                    <t t-elif="parent_lvl_1.get('product').engineering_state == 'undermodify'">
                                                        <span style="color: orange;padding-left: 5px;">
                                                            <t t-out="parent_lvl_1.get('product').engineering_state"/>
                                                        </span>
                                                    </t>
                                                    <t t-elif="parent_lvl_1.get('product').engineering_state == 'obsoleted'">
                                                        <span style="color: red;padding-left: 5px;">
                                                            <t t-out="parent_lvl_1.get('product').engineering_state"/>
                                                        </span>
                                                    </t>
                                                    <t t-else="">
                                                        <span style="color: black;padding-left: 5px;">
                                                            <t t-out="parent_lvl_1.get('product').engineering_state"/>
                                                        </span>
                                                    </t>
                                                </strong>
                                            </td>
                                            <td class="text-center" style="padding-top: 5px; padding-bottom: 5px;">
                                                <img
                                                    t-att-src="'/plm/product_product_image_1920/%s' % parent_lvl_1.get('product').id"
                                                    t-att-alt="parent_lvl_1.get('product').display_name"
                                                    class="image_document_report"
                                                    style="margin: auto; border: none;"/>
                                            </td>
                                        </tr>
                                        <t t-foreach="parent_lvl_1['children']" t-as="parent_lvl_2">
                                            <tr>
                                                <td class="text-center">
                                                    <t t-out="parent_lvl_2.get('level')"/>
                                                </td>
                                                <td class="text-left">
                                                    <span
                                                        style='font-size:20px; color:rgb(1 88 92); padding-left: 40px;'>
                                                        &#8627;
                                                    </span>
                                                    <a t-attf-href="/web#id={{parent_lvl_2.get('product').id}}&amp;model={{parent_lvl_2.get('product')._name}}&amp;view_type=form"
                                                       t-out="parent_lvl_2.get('product').name" target="_blank"/>
                                                </td>
                                                <td class="text-center">
                                                    <t t-out="parent_lvl_2.get('product').engineering_code"/>
                                                </td>
                                                <td class="text-center">
                                                    <t t-out="parent_lvl_2.get('product').engineering_revision"/>
                                                </td>
                                                <td class="text-center">
                                                    <strong>
                                                        <t t-if="parent_lvl_2.get('product').engineering_state == 'draft'">
                                                            <span style="color: grey;padding-left: 5px;">
                                                                <t t-out="parent_lvl_2.get('product').engineering_state"/>
                                                            </span>
                                                        </t>
                                                        <t t-elif="parent_lvl_2.get('product').engineering_state == 'confirmed'">
                                                            <span style="color: blue;padding-left: 5px;">
                                                                <t t-out="parent_lvl_2.get('product').engineering_state"/>
                                                            </span>
                                                        </t>
                                                        <t t-elif="parent_lvl_2.get('product').engineering_state == 'released'">
                                                            <span style="color: green;padding-left: 5px;">
                                                                <t t-out="parent_lvl_2.get('product').engineering_state"/>
                                                            </span>
                                                        </t>
                                                        <t t-elif="parent_lvl_2.get('product').engineering_state == 'undermodify'">
                                                            <span style="color: orange;padding-left: 5px;">
                                                                <t t-out="parent_lvl_2.get('product').engineering_state"/>
                                                            </span>
                                                        </t>
                                                        <t t-elif="parent_lvl_2.get('product').engineering_state == 'obsoleted'">
                                                            <span style="color: red;padding-left: 5px;">
                                                                <t t-out="parent_lvl_2.get('product').engineering_state"/>
                                                            </span>
                                                        </t>
                                                        <t t-else="">
                                                            <span style="color: black;padding-left: 5px;">
                                                                <t t-out="parent_lvl_2.get('product').engineering_state"/>
                                                            </span>
                                                        </t>
                                                    </strong>
                                                </td>
                                                <td class="text-center" style="padding-top: 5px; padding-bottom: 5px;">
                                                    <img
                                                        t-att-src="'/plm/product_product_image_1920/%s' % parent_lvl_2.get('product').id"
                                                        t-att-alt="parent_lvl_2.get('product').display_name"
                                                        class="image_document_report"
                                                        style="margin: auto; border: none;"/>
                                                </td>
                                            </tr>
                                            <t t-foreach="parent_lvl_2['children']" t-as="parent_lvl_3">
                                                <tr>
                                                    <td class="text-center">
                                                        <t t-out="parent_lvl_3.get('level')"/>
                                                    </td>
                                                    <td class="text-left">
                                                        <span
                                                            style='font-size:20px; color:rgb(1 88 92); padding-left: 60px;'>
                                                            &#8627;
                                                        </span>
                                                        <a t-attf-href="/web#id={{parent_lvl_3.get('product').id}}&amp;model={{parent_lvl_3.get('product')._name}}&amp;view_type=form"
                                                           t-out="parent_lvl_3.get('product').name"
                                                           target="_blank"/>
                                                    </td>
                                                    <td class="text-center">
                                                        <t t-out="parent_lvl_3.get('product').engineering_code"/>
                                                    </td>
                                                    <td class="text-center">
                                                        <t t-out="parent_lvl_3.get('product').engineering_revision"/>
                                                    </td>
                                                    <td class="text-center">
                                                        <strong>
                                                            <t t-if="parent_lvl_3.get('product').engineering_state == 'draft'">
                                                                <span style="color: grey;padding-left: 5px;">
                                                                    <t t-out="parent_lvl_3.get('product').engineering_state"/>
                                                                </span>
                                                            </t>
                                                            <t t-elif="parent_lvl_3.get('product').engineering_state == 'confirmed'">
                                                                <span style="color: blue;padding-left: 5px;">
                                                                    <t t-out="parent_lvl_3.get('product').engineering_state"/>
                                                                </span>
                                                            </t>
                                                            <t t-elif="parent_lvl_3.get('product').engineering_state == 'released'">
                                                                <span style="color: green;padding-left: 5px;">
                                                                    <t t-out="parent_lvl_3.get('product').engineering_state"/>
                                                                </span>
                                                            </t>
                                                            <t t-elif="parent_lvl_3.get('product').engineering_state == 'undermodify'">
                                                                <span style="color: orange;padding-left: 5px;">
                                                                    <t t-out="parent_lvl_3.get('product').engineering_state"/>
                                                                </span>
                                                            </t>
                                                            <t t-elif="parent_lvl_3.get('product').engineering_state == 'obsoleted'">
                                                                <span style="color: red;padding-left: 5px;">
                                                                    <t t-out="parent_lvl_3.get('product').engineering_state"/>
                                                                </span>
                                                            </t>
                                                            <t t-else="">
                                                                <span style="color: black;padding-left: 5px;">
                                                                    <t t-out="parent_lvl_3.get('product').engineering_state"/>
                                                                </span>
                                                            </t>
                                                        </strong>
                                                    </td>
                                                    <td class="text-center"
                                                        style="padding-top: 5px; padding-bottom: 5px;">
                                                        <img
                                                            t-att-src="'/plm/product_product_image_1920/%s' % parent_lvl_3.get('product').id"
                                                            t-att-alt="parent_lvl_3.get('product').display_name"
                                                            class="image_document_report"
                                                            style="margin: auto; border: none;"/>
                                                    </td>
                                                </tr>
                                                <t t-foreach="parent_lvl_3['children']" t-as="parent_lvl_4">
                                                    <tr>
                                                        <td class="text-center">
                                                            <t t-out="parent_lvl_4.get('level')"/>
                                                        </td>
                                                        <td class="text-left">
                                                            <span
                                                                style='font-size:20px; color:rgb(1 88 92); padding-left: 80px;'>
                                                                &#8627;
                                                            </span>
                                                            <a t-attf-href="/web#id={{parent_lvl_4.get('product').id}}&amp;model={{parent_lvl_4.get('product')._name}}&amp;view_type=form"
                                                               t-out="parent_lvl_4.get('product').name"
                                                               target="_blank"/>
                                                        </td>
                                                        <td class="text-center">
                                                            <t t-out="parent_lvl_4.get('product').engineering_code"/>
                                                        </td>
                                                        <td class="text-center">
                                                            <t t-out="parent_lvl_4.get('product').engineering_revision"/>
                                                        </td>
                                                        <td class="text-center">
                                                            <strong>
                                                                <t t-if="parent_lvl_4.get('product').engineering_state == 'draft'">
                                                                    <span style="color: grey;padding-left: 5px;">
                                                                        <t t-out="parent_lvl_4.get('product').engineering_state"/>
                                                                    </span>
                                                                </t>
                                                                <t t-elif="parent_lvl_4.get('product').engineering_state == 'confirmed'">
                                                                    <span style="color: blue;padding-left: 5px;">
                                                                        <t t-out="parent_lvl_4.get('product').engineering_state"/>
                                                                    </span>
                                                                </t>
                                                                <t t-elif="parent_lvl_4.get('product').engineering_state == 'released'">
                                                                    <span style="color: green;padding-left: 5px;">
                                                                        <t t-out="parent_lvl_4.get('product').engineering_state"/>
                                                                    </span>
                                                                </t>
                                                                <t t-elif="parent_lvl_4.get('product').engineering_state == 'undermodify'">
                                                                    <span style="color: orange;padding-left: 5px;">
                                                                        <t t-out="parent_lvl_4.get('product').engineering_state"/>
                                                                    </span>
                                                                </t>
                                                                <t t-elif="parent_lvl_4.get('product').engineering_state == 'obsoleted'">
                                                                    <span style="color: red;padding-left: 5px;">
                                                                        <t t-out="parent_lvl_4.get('product').engineering_state"/>
                                                                    </span>
                                                                </t>
                                                                <t t-else="">
                                                                    <span style="color: black;padding-left: 5px;">
                                                                        <t t-out="parent_lvl_4.get('product').engineering_state"/>
                                                                    </span>
                                                                </t>
                                                            </strong>
                                                        </td>
                                                        <td class="text-center"
                                                            style="padding-top: 5px; padding-bottom: 5px;">
                                                            <img
                                                                t-att-src="'/plm/product_product_image_1920/%s' % parent_lvl_4.get('product').id"
                                                                t-att-alt="parent_lvl_4.get('product').display_name"
                                                                class="image_document_report"
                                                                style="margin: auto; border: none;"/>
                                                        </td>
                                                    </tr>
                                                    <t t-foreach="parent_lvl_4['children']" t-as="parent_lvl_5">
                                                        <tr>
                                                            <td class="text-center">
                                                                <t t-out="parent_lvl_5.get('level')"/>
                                                            </td>
                                                            <td class="text-left">
                                                                <span
                                                                    style='font-size:20px; color:rgb(1 88 92); padding-left: 100px;'>
                                                                    &#8627;
                                                                </span>
                                                                <a t-attf-href="/web#id={{parent_lvl_5.get('product').id}}&amp;model={{parent_lvl_5.get('product')._name}}&amp;view_type=form"
                                                                   t-out="parent_lvl_5.get('product').name"
                                                                   target="_blank"/>
                                                            </td>
                                                            <td class="text-center">
                                                                <t t-out="parent_lvl_5.get('product').engineering_code"/>
                                                            </td>
                                                            <td class="text-center">
                                                                <t t-out="parent_lvl_5.get('product').engineering_revision"/>
                                                            </td>
                                                            <td class="text-center">
                                                                <strong>
                                                                    <t t-if="parent_lvl_5.get('product').engineering_state == 'draft'">
                                                                        <span style="color: grey;padding-left: 5px;">
                                                                            <t t-out="parent_lvl_5.get('product').engineering_state"/>
                                                                        </span>
                                                                    </t>
                                                                    <t t-elif="parent_lvl_5.get('product').engineering_state == 'confirmed'">
                                                                        <span style="color: blue;padding-left: 5px;">
                                                                            <t t-out="parent_lvl_5.get('product').engineering_state"/>
                                                                        </span>
                                                                    </t>
                                                                    <t t-elif="parent_lvl_5.get('product').engineering_state == 'released'">
                                                                        <span style="color: green;padding-left: 5px;">
                                                                            <t t-out="parent_lvl_5.get('product').engineering_state"/>
                                                                        </span>
                                                                    </t>
                                                                    <t t-elif="parent_lvl_5.get('product').engineering_state == 'undermodify'">
                                                                        <span style="color: orange;padding-left: 5px;">
                                                                            <t t-out="parent_lvl_5.get('product').engineering_state"/>
                                                                        </span>
                                                                    </t>
                                                                    <t t-elif="parent_lvl_5.get('product').engineering_state == 'obsoleted'">
                                                                        <span style="color: red;padding-left: 5px;">
                                                                            <t t-out="parent_lvl_5.get('product').engineering_state"/>
                                                                        </span>
                                                                    </t>
                                                                    <t t-else="">
                                                                        <span style="color: black;padding-left: 5px;">
                                                                            <t t-out="parent_lvl_5.get('product').engineering_state"/>
                                                                        </span>
                                                                    </t>
                                                                </strong>
                                                            </td>
                                                            <td class="text-center"
                                                                style="padding-top: 5px; padding-bottom: 5px;">
                                                                <img
                                                                    t-att-src="'/plm/product_product_image_1920/%s' % parent_lvl_5.get('product').id"
                                                                    t-att-alt="parent_lvl_5.get('product').display_name"
                                                                    class="image_document_report"
                                                                    style="margin: auto; border: none;"/>
                                                            </td>
                                                        </tr>
                                                        <t t-foreach="parent_lvl_5['children']" t-as="parent_lvl_6">
                                                            <tr>
                                                                <td class="text-center">
                                                                    <t t-out="parent_lvl_6.get('level')"/>
                                                                </td>
                                                                <td class="text-left">
                                                                    <span
                                                                        style='font-size:20px; color:rgb(1 88 92); padding-left: 120px;'>
                                                                        &#8627;
                                                                    </span>
                                                                    <a t-attf-href="/web#id={{parent_lvl_6.get('product').id}}&amp;model={{parent_lvl_6.get('product')._name}}&amp;view_type=form"
                                                                       t-out="parent_lvl_6.get('product').name"
                                                                       target="_blank"/>
                                                                </td>
                                                                <td class="text-center">
                                                                    <t t-out="parent_lvl_6.get('product').engineering_code"/>
                                                                </td>
                                                                <td class="text-center">
                                                                    <t t-out="parent_lvl_6.get('product').engineering_revision"/>
                                                                </td>
                                                                <td class="text-center">
                                                                    <strong>
                                                                        <t t-if="parent_lvl_6.get('product').engineering_state == 'draft'">
                                                                            <span
                                                                                style="color: grey;padding-left: 5px;">
                                                                                <t t-out="parent_lvl_6.get('product').engineering_state"/>
                                                                            </span>
                                                                        </t>
                                                                        <t t-elif="parent_lvl_6.get('product').engineering_state == 'confirmed'">
                                                                            <span
                                                                                style="color: blue;padding-left: 5px;">
                                                                                <t t-out="parent_lvl_6.get('product').engineering_state"/>
                                                                            </span>
                                                                        </t>
                                                                        <t t-elif="parent_lvl_6.get('product').engineering_state == 'released'">
                                                                            <span
                                                                                style="color: green;padding-left: 5px;">
                                                                                <t t-out="parent_lvl_6.get('product').engineering_state"/>
                                                                            </span>
                                                                        </t>
                                                                        <t t-elif="parent_lvl_6.get('product').engineering_state == 'undermodify'">
                                                                            <span
                                                                                style="color: orange;padding-left: 5px;">
                                                                                <t t-out="parent_lvl_6.get('product').engineering_state"/>
                                                                            </span>
                                                                        </t>
                                                                        <t t-elif="parent_lvl_6.get('product').engineering_state == 'obsoleted'">
                                                                            <span style="color: red;padding-left: 5px;">
                                                                                <t t-out="parent_lvl_6.get('product').engineering_state"/>
                                                                            </span>
                                                                        </t>
                                                                        <t t-else="">
                                                                            <span
                                                                                style="color: black;padding-left: 5px;">
                                                                                <t t-out="parent_lvl_6.get('product').engineering_state"/>
                                                                            </span>
                                                                        </t>
                                                                    </strong>
                                                                </td>
                                                                <td class="text-center"
                                                                    style="padding-top: 5px; padding-bottom: 5px;">
                                                                    <img
                                                                        t-att-src="'/plm/product_product_image_1920/%s' % parent_lvl_6.get('product').id"
                                                                        t-att-alt="parent_lvl_6.get('product').display_name"
                                                                        class="image_document_report"
                                                                        style="margin: auto; border: none;"/>
                                                                </td>
                                                            </tr>
                                                            <t t-foreach="parent_lvl_6['children']" t-as="parent_lvl_7">
                                                                <tr>
                                                                    <td class="text-center">
                                                                        <t t-out="parent_lvl_7.get('level')"/>
                                                                    </td>
                                                                    <td class="text-left">
                                                                        <span
                                                                            style='font-size:20px; color:rgb(1 88 92); padding-left: 140px;'>
                                                                            &#8627;
                                                                        </span>
                                                                        <a t-attf-href="/web#id={{parent_lvl_7.get('product').id}}&amp;model={{parent_lvl_7.get('product')._name}}&amp;view_type=form"
                                                                           t-out="parent_lvl_7.get('product').name"
                                                                           target="_blank"/>
                                                                    </td>
                                                                    <td class="text-center">
                                                                        <t t-out="parent_lvl_7.get('product').engineering_code"/>
                                                                    </td>
                                                                    <td class="text-center">
                                                                        <t t-out="parent_lvl_7.get('product').engineering_revision"/>
                                                                    </td>
                                                                    <td class="text-center">
                                                                        <strong>
                                                                            <t t-if="parent_lvl_7.get('product').engineering_state == 'draft'">
                                                                                <span
                                                                                    style="color: grey;padding-left: 5px;">
                                                                                    <t t-out="parent_lvl_7.get('product').engineering_state"/>
                                                                                </span>
                                                                            </t>
                                                                            <t t-elif="parent_lvl_7.get('product').engineering_state == 'confirmed'">
                                                                                <span
                                                                                    style="color: blue;padding-left: 5px;">
                                                                                    <t t-out="parent_lvl_7.get('product').engineering_state"/>
                                                                                </span>
                                                                            </t>
                                                                            <t t-elif="parent_lvl_7.get('product').engineering_state == 'released'">
                                                                                <span
                                                                                    style="color: green;padding-left: 5px;">
                                                                                    <t t-out="parent_lvl_7.get('product').engineering_state"/>
                                                                                </span>
                                                                            </t>
                                                                            <t t-elif="parent_lvl_7.get('product').engineering_state == 'undermodify'">
                                                                                <span
                                                                                    style="color: orange;padding-left: 5px;">
                                                                                    <t t-out="parent_lvl_7.get('product').engineering_state"/>
                                                                                </span>
                                                                            </t>
                                                                            <t t-elif="parent_lvl_7.get('product').engineering_state == 'obsoleted'">
                                                                                <span
                                                                                    style="color: red;padding-left: 5px;">
                                                                                    <t t-out="parent_lvl_7.get('product').engineering_state"/>
                                                                                </span>
                                                                            </t>
                                                                            <t t-else="">
                                                                                <span
                                                                                    style="color: black;padding-left: 5px;">
                                                                                    <t t-out="parent_lvl_7.get('product').engineering_state"/>
                                                                                </span>
                                                                            </t>
                                                                        </strong>
                                                                    </td>
                                                                    <td class="text-center"
                                                                        style="padding-top: 5px; padding-bottom: 5px;">
                                                                        <img
                                                                            t-att-src="'/plm/product_product_image_1920/%s' % parent_lvl_7.get('product').id"
                                                                            t-att-alt="parent_lvl_7.get('product').display_name"
                                                                            class="image_document_report"
                                                                            style="margin: auto; border: none;"/>
                                                                    </td>
                                                                </tr>
                                                                <t t-foreach="parent_lvl_7['children']" t-as="parent_lvl_8">
                                                                    <tr>
                                                                        <td class="text-center">
                                                                            <t t-out="parent_lvl_8.get('level')"/>
                                                                        </td>
                                                                        <td class="text-left">
                                                                            <span
                                                                                style='font-size:20px; color:rgb(1 88 92); padding-left: 160px;'>
                                                                                &#8627;
                                                                            </span>
                                                                            <a t-attf-href="/web#id={{parent_lvl_8.get('product').id}}&amp;model={{parent_lvl_8.get('product')._name}}&amp;view_type=form"
                                                                               t-out="parent_lvl_8.get('product').name"
                                                                               target="_blank"/>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <t t-out="parent_lvl_8.get('product').engineering_code"/>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <t t-out="parent_lvl_8.get('product').engineering_revision"/>
                                                                        </td>
                                                                        <td class="text-center">
                                                                            <strong>
                                                                                <t t-if="parent_lvl_8.get('product').engineering_state == 'draft'">
                                                                                    <span
                                                                                        style="color: grey;padding-left: 5px;">
                                                                                        <t t-out="parent_lvl_8.get('product').engineering_state"/>
                                                                                    </span>
                                                                                </t>
                                                                                <t t-elif="parent_lvl_8.get('product').engineering_state == 'confirmed'">
                                                                                    <span
                                                                                        style="color: blue;padding-left: 5px;">
                                                                                        <t t-out="parent_lvl_8.get('product').engineering_state"/>
                                                                                    </span>
                                                                                </t>
                                                                                <t t-elif="parent_lvl_8.get('product').engineering_state == 'released'">
                                                                                    <span
                                                                                        style="color: green;padding-left: 5px;">
                                                                                        <t t-out="parent_lvl_8.get('product').engineering_state"/>
                                                                                    </span>
                                                                                </t>
                                                                                <t t-elif="parent_lvl_8.get('product').engineering_state == 'undermodify'">
                                                                                    <span
                                                                                        style="color: orange;padding-left: 5px;">
                                                                                        <t t-out="parent_lvl_8.get('product').engineering_state"/>
                                                                                    </span>
                                                                                </t>
                                                                                <t t-elif="parent_lvl_8.get('product').engineering_state == 'obsoleted'">
                                                                                    <span
                                                                                        style="color: red;padding-left: 5px;">
                                                                                        <t t-out="parent_lvl_8.get('product').engineering_state"/>
                                                                                    </span>
                                                                                </t>
                                                                                <t t-else="">
                                                                                    <span
                                                                                        style="color: black;padding-left: 5px;">
                                                                                        <t t-out="parent_lvl_8.get('product').engineering_state"/>
                                                                                    </span>
                                                                                </t>
                                                                            </strong>
                                                                        </td>
                                                                        <td class="text-center"
                                                                            style="padding-top: 5px; padding-bottom: 5px;">
                                                                            <img
                                                                                t-att-src="'/plm/product_product_image_1920/%s' % parent_lvl_8.get('product').id"
                                                                                t-att-alt="parent_lvl_8.get('product').display_name"
                                                                                class="image_document_report"
                                                                                style="margin: auto; border: none;"/>
                                                                        </td>
                                                                    </tr>
                                                                    <t t-foreach="parent_lvl_8['children']" t-as="parent_lvl_9">
                                                                        <tr>
                                                                            <td class="text-center">
                                                                                <t t-out="parent_lvl_9.get('level')"/>
                                                                            </td>
                                                                            <td class="text-left">
                                                                                <span
                                                                                    style='font-size:20px; color:rgb(1 88 92); padding-left: 180px;'>
                                                                                    &#8627;
                                                                                </span>
                                                                                <a t-attf-href="/web#id={{parent_lvl_9.get('product').id}}&amp;model={{parent_lvl_9.get('product')._name}}&amp;view_type=form"
                                                                                   t-out="parent_lvl_9.get('product').name"
                                                                                   target="_blank"/>
                                                                            </td>
                                                                            <td class="text-center">
                                                                                <t t-out="parent_lvl_9.get('product').engineering_code"/>
                                                                            </td>
                                                                            <td class="text-center">
                                                                                <t t-out="parent_lvl_9.get('product').engineering_revision"/>
                                                                            </td>
                                                                            <td class="text-center">
                                                                                <strong>
                                                                                    <t t-if="parent_lvl_9.get('product').engineering_state == 'draft'">
                                                                                        <span
                                                                                            style="color: grey;padding-left: 5px;">
                                                                                            <t t-out="parent_lvl_9.get('product').engineering_state"/>
                                                                                        </span>
                                                                                    </t>
                                                                                    <t t-elif="parent_lvl_9.get('product').engineering_state == 'confirmed'">
                                                                                        <span
                                                                                            style="color: blue;padding-left: 5px;">
                                                                                            <t t-out="parent_lvl_9.get('product').engineering_state"/>
                                                                                        </span>
                                                                                    </t>
                                                                                    <t t-elif="parent_lvl_9.get('product').engineering_state == 'released'">
                                                                                        <span
                                                                                            style="color: green;padding-left: 5px;">
                                                                                            <t t-out="parent_lvl_9.get('product').engineering_state"/>
                                                                                        </span>
                                                                                    </t>
                                                                                    <t t-elif="parent_lvl_9.get('product').engineering_state == 'undermodify'">
                                                                                        <span
                                                                                            style="color: orange;padding-left: 5px;">
                                                                                            <t t-out="parent_lvl_9.get('product').engineering_state"/>
                                                                                        </span>
                                                                                    </t>
                                                                                    <t t-elif="parent_lvl_9.get('product').engineering_state == 'obsoleted'">
                                                                                        <span
                                                                                            style="color: red;padding-left: 5px;">
                                                                                            <t t-out="parent_lvl_9.get('product').engineering_state"/>
                                                                                        </span>
                                                                                    </t>
                                                                                    <t t-else="">
                                                                                        <span
                                                                                            style="color: black;padding-left: 5px;">
                                                                                            <t t-out="parent_lvl_9.get('product').engineering_state"/>
                                                                                        </span>
                                                                                    </t>
                                                                                </strong>
                                                                            </td>
                                                                            <td class="text-center"
                                                                                style="padding-top: 5px; padding-bottom: 5px;">
                                                                                <img
                                                                                    t-att-src="'/plm/product_product_image_1920/%s' % parent_lvl_9.get('product').id"
                                                                                    t-att-alt="parent_lvl_9.get('product').display_name"
                                                                                    class="image_document_report"
                                                                                    style="margin: auto; border: none;"/>
                                                                            </td>
                                                                        </tr>
                                                                        <t t-foreach="parent_lvl_9['children']" t-as="parent_lvl_10">
                                                                            <tr>
                                                                                <td class="text-center">
                                                                                    <t t-out="parent_lvl_10.get('level')"/>
                                                                                </td>
                                                                                <td class="text-left">
                                                                                    <span
                                                                                        style='font-size:20px; color:rgb(1 88 92); padding-left: 200px;'>
                                                                                        &#8627;
                                                                                    </span>
                                                                                    <a t-attf-href="/web#id={{parent_lvl_10.get('product').id}}&amp;model={{parent_lvl_10.get('product')._name}}&amp;view_type=form"
                                                                                       t-out="parent_lvl_10.get('product').name"
                                                                                       target="_blank"/>
                                                                                </td>
                                                                                <td class="text-center">
                                                                                    <t t-out="parent_lvl_10.get('product').engineering_code"/>
                                                                                </td>
                                                                                <td class="text-center">
                                                                                    <t t-out="parent_lvl_10.get('product').engineering_revision"/>
                                                                                </td>
                                                                                <td class="text-center">
                                                                                    <strong>
                                                                                        <t t-if="parent_lvl_10.get('product').engineering_state == 'draft'">
                                                                                            <span
                                                                                                style="color: grey;padding-left: 5px;">
                                                                                                <t t-out="parent_lvl_10.get('product').engineering_state"/>
                                                                                            </span>
                                                                                        </t>
                                                                                        <t t-elif="parent_lvl_10.get('product').engineering_state == 'confirmed'">
                                                                                            <span
                                                                                                style="color: blue;padding-left: 5px;">
                                                                                                <t t-out="parent_lvl_10.get('product').engineering_state"/>
                                                                                            </span>
                                                                                        </t>
                                                                                        <t t-elif="parent_lvl_10.get('product').engineering_state == 'released'">
                                                                                            <span
                                                                                                style="color: green;padding-left: 5px;">
                                                                                                <t t-out="parent_lvl_10.get('product').engineering_state"/>
                                                                                            </span>
                                                                                        </t>
                                                                                        <t t-elif="parent_lvl_10.get('product').engineering_state == 'undermodify'">
                                                                                            <span
                                                                                                style="color: orange;padding-left: 5px;">
                                                                                                <t t-out="parent_lvl_10.get('product').engineering_state"/>
                                                                                            </span>
                                                                                        </t>
                                                                                        <t t-elif="parent_lvl_10.get('product').engineering_state == 'obsoleted'">
                                                                                            <span
                                                                                                style="color: red;padding-left: 5px;">
                                                                                                <t t-out="parent_lvl_10.get('product').engineering_state"/>
                                                                                            </span>
                                                                                        </t>
                                                                                        <t t-else="">
                                                                                            <span
                                                                                                style="color: black;padding-left: 5px;">
                                                                                                <t t-out="parent_lvl_10.get('product').engineering_state"/>
                                                                                            </span>
                                                                                        </t>
                                                                                    </strong>
                                                                                </td>
                                                                                <td class="text-center"
                                                                                    style="padding-top: 5px; padding-bottom: 5px;">
                                                                                    <img
                                                                                        t-att-src="'/plm/product_product_image_1920/%s' % parent_lvl_10.get('product').id"
                                                                                        t-att-alt="parent_lvl_10.get('product').display_name"
                                                                                        class="image_document_report"
                                                                                        style="margin: auto; border: none;"/>
                                                                                </td>
                                                                            </tr>
                                                                            <t t-foreach="parent_lvl_10['children']" t-as="parent_lvl_11">
                                                                                <tr>
                                                                                    <td class="text-center">
                                                                                        <t t-out="parent_lvl_11.get('level')"/>
                                                                                    </td>
                                                                                    <td class="text-left">
                                                                                        <span
                                                                                            style='font-size:20px; color:rgb(1 88 92); padding-left: 220px;'>
                                                                                            &#8627;
                                                                                        </span>
                                                                                        <a t-attf-href="/web#id={{parent_lvl_11.get('product').id}}&amp;model={{parent_lvl_11.get('product')._name}}&amp;view_type=form"
                                                                                           t-out="parent_lvl_11.get('product').name"
                                                                                           target="_blank"/>
                                                                                    </td>
                                                                                    <td class="text-center">
                                                                                        <t t-out="parent_lvl_11.get('product').engineering_code"/>
                                                                                    </td>
                                                                                    <td class="text-center">
                                                                                        <t t-out="parent_lvl_11.get('product').engineering_revision"/>
                                                                                    </td>
                                                                                    <td class="text-center">
                                                                                        <strong>
                                                                                            <t t-if="parent_lvl_11.get('product').engineering_state == 'draft'">
                                                                                                <span
                                                                                                    style="color: grey;padding-left: 5px;">
                                                                                                    <t t-out="parent_lvl_11.get('product').engineering_state"/>
                                                                                                </span>
                                                                                            </t>
                                                                                            <t t-elif="parent_lvl_11.get('product').engineering_state == 'confirmed'">
                                                                                                <span
                                                                                                    style="color: blue;padding-left: 5px;">
                                                                                                    <t t-out="parent_lvl_11.get('product').engineering_state"/>
                                                                                                </span>
                                                                                            </t>
                                                                                            <t t-elif="parent_lvl_11.get('product').engineering_state == 'released'">
                                                                                                <span
                                                                                                    style="color: green;padding-left: 5px;">
                                                                                                    <t t-out="parent_lvl_11.get('product').engineering_state"/>
                                                                                                </span>
                                                                                            </t>
                                                                                            <t t-elif="parent_lvl_11.get('product').engineering_state == 'undermodify'">
                                                                                                <span
                                                                                                    style="color: orange;padding-left: 5px;">
                                                                                                    <t t-out="parent_lvl_11.get('product').engineering_state"/>
                                                                                                </span>
                                                                                            </t>
                                                                                            <t t-elif="parent_lvl_11.get('product').engineering_state == 'obsoleted'">
                                                                                                <span
                                                                                                    style="color: red;padding-left: 5px;">
                                                                                                    <t t-out="parent_lvl_11.get('product').engineering_state"/>
                                                                                                </span>
                                                                                            </t>
                                                                                            <t t-else="">
                                                                                                <span
                                                                                                    style="color: black;padding-left: 5px;">
                                                                                                    <t t-out="parent_lvl_11.get('product').engineering_state"/>
                                                                                                </span>
                                                                                            </t>
                                                                                        </strong>
                                                                                    </td>
                                                                                    <td class="text-center"
                                                                                        style="padding-top: 5px; padding-bottom: 5px;">
                                                                                        <img
                                                                                            t-att-src="'/plm/product_product_image_1920/%s' % parent_lvl_11.get('product').id"
                                                                                            t-att-alt="parent_lvl_11.get('product').display_name"
                                                                                            class="image_document_report"
                                                                                            style="margin: auto; border: none;"/>
                                                                                    </td>
                                                                                </tr>
                                                                                <t t-foreach="parent_lvl_11['children']" t-as="parent_lvl_12">
                                                                                    <tr>
                                                                                        <td class="text-center">
                                                                                            <t t-out="parent_lvl_12.get('level')"/>
                                                                                        </td>
                                                                                        <td class="text-left">
                                                                                            <span
                                                                                                style='font-size:20px; color:rgb(1 88 92); padding-left: 140px;'>
                                                                                                &#8627;
                                                                                            </span>
                                                                                            <a t-attf-href="/web#id={{parent_lvl_12.get('product').id}}&amp;model={{parent_lvl_12.get('product')._name}}&amp;view_type=form"
                                                                                               t-out="parent_lvl_12.get('product').name"
                                                                                               target="_blank"/>
                                                                                        </td>
                                                                                        <td class="text-center">
                                                                                            <t t-out="parent_lvl_12.get('product').engineering_code"/>
                                                                                        </td>
                                                                                        <td class="text-center">
                                                                                            <t t-out="parent_lvl_12.get('product').engineering_revision"/>
                                                                                        </td>
                                                                                        <td class="text-center">
                                                                                            <strong>
                                                                                                <t t-if="parent_lvl_12.get('product').engineering_state == 'draft'">
                                                                                                    <span
                                                                                                        style="color: grey;padding-left: 5px;">
                                                                                                        <t t-out="parent_lvl_12.get('product').engineering_state"/>
                                                                                                    </span>
                                                                                                </t>
                                                                                                <t t-elif="parent_lvl_12.get('product').engineering_state == 'confirmed'">
                                                                                                    <span
                                                                                                        style="color: blue;padding-left: 5px;">
                                                                                                        <t t-out="parent_lvl_12.get('product').engineering_state"/>
                                                                                                    </span>
                                                                                                </t>
                                                                                                <t t-elif="parent_lvl_12.get('product').engineering_state == 'released'">
                                                                                                    <span
                                                                                                        style="color: green;padding-left: 5px;">
                                                                                                        <t t-out="parent_lvl_12.get('product').engineering_state"/>
                                                                                                    </span>
                                                                                                </t>
                                                                                                <t t-elif="parent_lvl_12.get('product').engineering_state == 'undermodify'">
                                                                                                    <span
                                                                                                        style="color: orange;padding-left: 5px;">
                                                                                                        <t t-out="parent_lvl_12.get('product').engineering_state"/>
                                                                                                    </span>
                                                                                                </t>
                                                                                                <t t-elif="parent_lvl_12.get('product').engineering_state == 'obsoleted'">
                                                                                                    <span
                                                                                                        style="color: red;padding-left: 5px;">
                                                                                                        <t t-out="parent_lvl_12.get('product').engineering_state"/>
                                                                                                    </span>
                                                                                                </t>
                                                                                                <t t-else="">
                                                                                                    <span
                                                                                                        style="color: black;padding-left: 5px;">
                                                                                                        <t t-out="parent_lvl_12.get('product').engineering_state"/>
                                                                                                    </span>
                                                                                                </t>
                                                                                            </strong>
                                                                                        </td>
                                                                                        <td class="text-center"
                                                                                            style="padding-top: 5px; padding-bottom: 5px;">
                                                                                            <img
                                                                                                t-att-src="'/plm/product_product_image_1920/%s' % parent_lvl_12.get('product').id"
                                                                                                t-att-alt="parent_lvl_12.get('product').display_name"
                                                                                                class="image_document_report"
                                                                                                style="margin: auto; border: none;"/>
                                                                                        </td>
                                                                                    </tr>
                                                                                </t>
                                                                            </t>
                                                                        </t>
                                                                    </t>
                                                                </t>
                                                            </t>
                                                        </t>
                                                    </t>
                                                </t>
                                            </t>
                                        </t>
                                    </t>
                                </table>
                            </div>

                            <div class="mb-lg-2 mt-lg-4" t-if="affect_attachment_ids">
                                <span>
                                    <strong>Affected Attachments</strong>
                                </span>
                            </div>
                            <div t-if="affect_attachment_ids">
                                <table class="table_style">
                                    <tr>
                                        <th class="text-center">Doc Name</th>
                                        <th class="text-center">File Name</th>
                                        <th class="text-center">State</th>
                                        <th class="text-center">CheckOut By</th>
                                        <th class="text-center">Preview</th>
                                    </tr>
                                    <t t-foreach="affect_attachment_ids" t-as="attachment">
                                        <tr>
                                            <td class="text-center">
                                                <a t-attf-href="/web#id={{attachment.id}}&amp;model={{attachment._name}}&amp;view_type=form&amp;view_id={{ env.ref('plm.view_attachment_form_plm_hinerit').id }}"
                                                   t-out="attachment.name"
                                                   target="_blank">
                                                </a>
                                            </td>
                                            <td class="text-center">
                                                <t t-out="attachment.engineering_code"/>
                                            </td>
                                            <td class="text-center">
                                                <strong>
                                                    <t t-if="attachment.engineering_state == 'draft'">
                                                        <span style="color: grey;padding-left: 5px;">
                                                            <t t-out="attachment.engineering_state"/>
                                                        </span>
                                                    </t>
                                                    <t t-elif="attachment.engineering_state == 'confirmed'">
                                                        <span style="color: blue;padding-left: 5px;">
                                                            <t t-out="attachment.engineering_state"/>
                                                        </span>
                                                    </t>
                                                    <t t-elif="attachment.engineering_state == 'released'">
                                                        <span style="color: green;padding-left: 5px;">
                                                            <t t-out="attachment.engineering_state"/>
                                                        </span>
                                                    </t>
                                                    <t t-elif="attachment.engineering_state == 'undermodify'">
                                                        <span style="color: orange;padding-left: 5px;">
                                                            <t t-out="attachment.engineering_state"/>
                                                        </span>
                                                    </t>
                                                    <t t-elif="attachment.engineering_state == 'obsoleted'">
                                                        <span style="color: red;padding-left: 5px;">
                                                            <t t-out="attachment.engineering_state"/>
                                                        </span>
                                                    </t>
                                                    <t t-else="">
                                                        <span style="color: black;padding-left: 5px;">
                                                            <t t-out="attachment.engineering_state"/>
                                                        </span>
                                                    </t>
                                                </strong>
                                            </td>
                                            <td class="text-center">
                                                <t t-if="attachment.checkout_user">
                                                    <div class="fa fa-lock" t-esc="attachment.checkout_user"/>
                                                </t>
                                                <t t-else="">
                                                    <div class="fa fa-unlock" style="color:green;"/>
                                                </t>
                                            </td>
                                            <td class="text-center"
                                                style="padding-top: 5px; padding-bottom: 5px;">
                                                <img t-att-src="'/plm/ir_attachment_preview/%s' % attachment.id"
                                                     t-att-alt="attachment.display_name"
                                                     class="image_document_report text-center"
                                                     style="margin: auto; border: none;"/>
                                            </td>
                                        </tr>
                                    </t>
                                </table>
                            </div>

                            <div style="text-align: center;"
                                 t-if="not hierarchy_parent['children'] and not affect_attachment_ids">
                                <span>No affected products and attachments found at the moment.</span>
                            </div>

                            <div style="text-align: center;"
                                 t-if="not hierarchy_parent['children'] and affect_attachment_ids">
                                <span>No affected products found at the moment.</span>
                            </div>
                            <div style="text-align: center;"
                                 t-if="hierarchy_parent['children'] and not affect_attachment_ids">
                                <span>No affected attachments found at the moment.</span>
                            </div>


                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>
</odoo>
